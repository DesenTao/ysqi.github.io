<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>虞双齐Golang开发</title>
    <link>https://yushuangqi.com/tags/nas.xml</link>
    <description>在 虞双齐Golang开发上关于的内容</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <managingEditor>devysq@gmail.com (虞双齐)</managingEditor>
    <webMaster>devysq@gmail.com (虞双齐)</webMaster>
    <atom:link href="/tags/nas.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Liunx查找删除历史备份文件批命令</title>
      <link>https://yushuangqi.com/blog/2016/liunx%E6%9F%A5%E6%89%BE%E5%88%A0%E9%99%A4%E5%8E%86%E5%8F%B2%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6%E6%89%B9%E5%91%BD%E4%BB%A4.html</link>
      <pubDate>Mon, 15 Feb 2016 13:06:32 +0800</pubDate>
      <author>devysq@gmail.com (虞双齐)</author>
      <guid>https://yushuangqi.com/blog/2016/liunx%E6%9F%A5%E6%89%BE%E5%88%A0%E9%99%A4%E5%8E%86%E5%8F%B2%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6%E6%89%B9%E5%91%BD%E4%BB%A4.html</guid>
      <description>NAS作为数据备份中心，但需要经常清理历史备份文件，仅需要保留一部分备份文件即可。由于NAS是改造后的Liunx 操作系统，故有些命令无法直接执行，因此独立写了一个脚本来搜索历史备份文件，并记录待删除文件信息，自动生成脚本删除文件。
Liunx查找删除历史备份文件批命令脚本 具体执行脚本如下：
#!/bin/bash NOW=$(date +&amp;quot;%Y%m%d%M%S&amp;quot;) FILE=&amp;quot;NeedDeleteFile_$NOW.sh&amp;quot; # 遍历文件，写入文件中 function findFile(){ # 记录查找目录 echo &amp;quot;# find from $1-mtime $2&amp;quot; &amp;gt;&amp;gt; $FILE #遍历目录，将指定日期的 find $1 -mtime $2 -type f \( -iname &amp;quot;*.bak&amp;quot; -o -iname &amp;quot;*.log&amp;quot; -o -iname &amp;quot;*.zip&amp;quot; -o -iname &amp;quot;*.rar&amp;quot; \) -print0 | while IFS= read -r -d $&amp;#39;\0&amp;#39; line; do echo &amp;quot;rm \&amp;quot;$line\&amp;quot;;&amp;quot; &amp;gt;&amp;gt; $FILE done } # 标记sh文件 echo &amp;quot;#!/bin/bash&amp;quot; &amp;gt;&amp;gt; $FILE # 记录创建日期 echo &amp;quot;# $NOWcreate file.</description>
    </item>
    
  </channel>
</rss>