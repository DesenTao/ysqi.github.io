<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>虞双齐Go语言技术独立咨询顾问</title>
    <link>https://yushuangqi.com/tags/windows.xml</link>
    <description>在 虞双齐Go语言技术独立咨询顾问上关于的内容</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <managingEditor>devysq@gmail.com (虞双齐)</managingEditor>
    <webMaster>devysq@gmail.com (虞双齐)</webMaster>
    <atom:link href="/tags/windows.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>统计文件夹下文件数量</title>
      <link>https://yushuangqi.com/blog/2016/statics-folder-file_numbers.html</link>
      <pubDate>Thu, 18 Feb 2016 11:05:55 +0800</pubDate>
      <author>devysq@gmail.com (虞双齐)</author>
      <guid>https://yushuangqi.com/blog/2016/statics-folder-file_numbers.html</guid>
      <description>今天同事备份数据到NAS，但感觉备份有问题，因为文件过多，所以决定通过命令的方式统计文件夹下的文件数量，来初步判断备份是否完整。而原文件在Window下，而 NAS 是Liunx操作系统，故需要通过不同的命令来统计文件数量。
Window 统计文件数量 首先，来统计原文件数量。找了半天，发现dir命令就可以用于统计。
dir /b /a-d | find /v /c &amp;quot;&amp;amp;#@&amp;quot;  怎么文件数量为0? 原来上面命令仅仅是统计当前目录下的文件数，而不包括子目录，那么如何也包含子目录的文件呢？
原来只需要再添加参数/s即可。
dir /s /b /a-d | find /v /c &amp;quot;&amp;amp;#@&amp;quot;  当然，这里关键内容是find /v /c &amp;quot;%#@&amp;quot;。
Window 统计文件和目录数量 只需要去掉选项/a-d 来包含所有类型。
dir /s /b | find /v /c &amp;quot;&amp;amp;#@&amp;quot;  Liunx 统计文件数量 因为是NAS，故可以将Liunx 共享目录映射到 Window 下，从而使用 Windows 命令统计。下面将的是直接使用Liunx命令来统计。
直接统计某文件夹下文件数量
ls -l |grep &amp;quot;^-&amp;quot;|wc -l  统计文件夹下所有文件数量
ls -lR|grep &amp;quot;^-&amp;quot;|wc -l  命令ls -lR表示列表输出该目录下文件信息，R表示包括子目录，同时列出的文件包括目录、链接、设备文件等)
命令grep &amp;quot;^-&amp;quot;表示对结果进行过滤，只保留一般文件，如果只保留目录就是 ^d。</description>
    </item>
    
  </channel>
</rss>