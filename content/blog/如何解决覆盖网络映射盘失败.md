---
date: 2015-09-07
title: 如何解决覆盖网络映射盘失败
slug: net-map-use-do-error
tags : 
- window
- net
- 问题
topics: 
- 运维
---

周日重启了服务器，导致网络映射盘断开，现在无法成功映射，在重新映射提示需要先移除现有盘符，但是我已经断开了啊，各种痛，今天总算解决了！
<!--more-->

### 问题重现
1. 重启后，双击现有连接，提示需要输入密码
2. 输入账户密码，登录成功
3. 后来发现账号用错了，知道的文件夹无权限读取
4. 重新映射覆盖，输入新账号，提示“和现有映射不是同一个账户登录，需要先断开现有连接后，再重新映射”
5. 果断断开连接 
6. 连接的盘符还在，只不过是一把叉叉
7. 重新映射，还是提示“需要先断开连接”，可是我已经断开连接了啊！


### 问题处理历程

1.  命令移除盘符，盘符还是存在，提示`找不到网络连接`
```shell
>net use Q: /delete
>找不到网络连接
```

2.  继续查看，发现网络映射确实还在,
```shell
> net use 
> 状态 ，远程
  OK   , \\172.*.*.*.*\databak\ 
```

3. 继续使用命令移除网络
```shell
>net use  \\172.*.*.*.*\databak\  /delete
>\\172.*.*.*.*\databak\ 已删除
```

4. 此时看到带叉叉的盘符还是存在，但是可以手工重新映射成功！


### 问题总结

这个网络映射在断开后还存在的主要原因还是有其他应用等在使用该盘符，导致你断开时不会直接移除。
而通过命令net use 盘符 /delete 确实是删除了网络信息，但是共享盘符却还是存在。

以此记录，供以后使用，这个可以完全解决各类网络映射处理不了的问题！